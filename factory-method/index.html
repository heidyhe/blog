<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="design pattern,factory pattern" />










<meta name="description" content="Factory Method Pattern provides a way of encapsulating object creation.The definition by Gang of Four:  Define an interface for creating an object, but let subclasses decide which class to instantiate">
<meta name="keywords" content="design pattern,factory pattern">
<meta property="og:type" content="article">
<meta property="og:title" content="Factory Method Pattern">
<meta property="og:url" content="https://heidyhe.github.io/factory-method/index.html">
<meta property="og:site_name" content="Little by Little">
<meta property="og:description" content="Factory Method Pattern provides a way of encapsulating object creation.The definition by Gang of Four:  Define an interface for creating an object, but let subclasses decide which class to instantiate">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod.png">
<meta property="og:image" content="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod1.png">
<meta property="og:image" content="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod2.png">
<meta property="og:updated_time" content="2018-04-30T16:55:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Factory Method Pattern">
<meta name="twitter:description" content="Factory Method Pattern provides a way of encapsulating object creation.The definition by Gang of Four:  Define an interface for creating an object, but let subclasses decide which class to instantiate">
<meta name="twitter:image" content="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://heidyhe.github.io/factory-method/"/>





  <title>Factory Method Pattern | Little by Little</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Little by Little</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Aha~, stay curious and have fun</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://heidyhe.github.io/factory-method/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Heidy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://raw.githubusercontent.com/heidyhe/img/master/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Little by Little">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Factory Method Pattern</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-23T22:06:46-08:00">
                2018-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/design-pattern/" itemprop="url" rel="index">
                    <span itemprop="name">design pattern</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Factory Method Pattern provides a way of encapsulating object creation.<br>The definition by Gang of Four:</p>
<blockquote>
<p>Define an interface for creating an object, but let subclasses decide which class to instantiate. The Factory method lets a class defer instantiation it uses to subclasses.</p>
</blockquote>
<p>I will first walk through some examples of factory method pattern, and then compare it to the simple factory <em>pattern</em>, hoping that it will give you a better understand of factory method pattern.</p>
<a id="more"></a>
<h2 id="A-simple-example"><a href="#A-simple-example" class="headerlink" title="A simple example"></a>A simple example</h2><p>As shown in the UML below, the interface <em>Factory</em> defines a method for creating an object, but only its subclasses can create an object and can decide which class to instantiate.<br><img src="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod.png" alt=""></p>
<p>This simple example can only give you a basic idea of factory method pattern. From my point of view, I have no idea why I need such a complex hierarchy, and why I need to defer the object creation to different factories, and how I can control which factory to use. So let’s learn from some real examples.</p>
<h2 id="More-examples"><a href="#More-examples" class="headerlink" title="More examples"></a>More examples</h2><h3 id="i-Java-API-commons-logging"><a href="#i-Java-API-commons-logging" class="headerlink" title="i. Java API: commons-logging"></a>i. Java API: commons-logging</h3><p>It is a libary that provides a way of logging and allows developers to plug in a specific logging implementation.<br>It has an interface <em>Log</em> which abstracts logging APIs, and an abstract class <em>LogFactory</em> which creates instances of <em>Log</em>. This is how it is used:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Log log = LogFactory.getLog(ThisIsAClass.class);</span><br></pre></td></tr></table></figure></p>
<p>The implementation of <em>getLog(Class)</em> is as below. <em>LogFactory</em> itself doesn’t create the <em>Log</em> instances because it doesn’t implement the method <em>getInstance()</em>, it defers the object creation to its subclasses, like <em>LogFactoryImpl</em>.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Log <span class="title">getLog</span><span class="params">(Class clazz)</span> <span class="keyword">throws</span> LogConfigurationException </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (getFactory().getInstance(clazz));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Here comes the question: why <em>LogFactory</em> defers the object creation to its subclasses?<br>If <em>LogFactory</em> implements the object creation, and if someone who uses this library wants a different implementation of creating objects, he has to modify <em>LogFactory</em> and rebuild the library. This is silly and totally violates the principal of “open to extension but close to modification”. A good practice is to have the subclasses decide how to create objects. Anyone who wants to plug in a new logging implementation can achieve this by extending <em>LogFactory</em> and implementing the method <em>getInstance()</em>.<br>As shown in the following UML, I can define a new class <em>MyLogFactoryImpl</em> which extends <em>LogFactory</em>, and I can decide to create the objects of <em>Log4JLogger</em> or <em>MyLogger</em> in my class.</p>
<p><img src="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod1.png" alt=""></p>
<p>And the next question is: how I can control which factory to use at the runtime? This can be done by passing parameters or using configuration files.</p>
<h3 id="ii-Java-API-javax-xml-parsers"><a href="#ii-Java-API-javax-xml-parsers" class="headerlink" title="ii. Java API: javax.xml.parsers"></a>ii. Java API: javax.xml.parsers</h3><p>It provides different ways to parse XML documents, such as DOM and SAX parser. It adopts factory method pattern to create objects of <em>SAXParser</em>, and the same for <em>DocumentBuilder</em>. Take <em>SAXParser</em> for example,<br><img src="https://raw.githubusercontent.com/heidyhe/img/master/design/factorymethod2.png" alt=""></p>
<p><em>SAXParserFactory</em> is an abstract class. It implements the method <em>newInstance()</em> to instantiate <em>SAXParserFactory</em>, which allows the clients to implement their own factory. And it defers the creation of <em>SAXParser</em> objects to its subclasses, like <em>SAXParserFactoryImpl</em>, which allows the clients to user their own factory to create their own SAX parser.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">SAXParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SAXParserFactory <span class="title">newInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> FactoryFinder.find(</span><br><span class="line">                <span class="comment">/* The default property name according to the JAXP spec */</span></span><br><span class="line">                SAXParserFactory.class,</span><br><span class="line">                <span class="comment">/* The fallback implementation class name */</span></span><br><span class="line">                <span class="string">"com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SAXParserFactory <span class="title">newInstance</span><span class="params">(String factoryClassName, ClassLoader classLoader)</span></span>&#123;</span><br><span class="line">        <span class="comment">//do not fallback if given classloader can't find the class, throw exception</span></span><br><span class="line">        <span class="keyword">return</span> FactoryFinder.newInstance(SAXParserFactory.class,</span><br><span class="line">                factoryClassName, classLoader, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> SAXParser <span class="title">newSAXParser</span><span class="params">()</span> <span class="keyword">throws</span> ParserConfigurationException, SAXException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SAXParserFactoryImpl</span> <span class="keyword">extends</span> <span class="title">SAXParserFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> SAXParserImpl <span class="title">newSAXParserImpl</span><span class="params">()</span> <span class="keyword">throws</span> ParserConfigurationException, SAXNotRecognizedException, SAXNotSupportedException </span>&#123;</span><br><span class="line">        SAXParserImpl saxParserImpl;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            saxParserImpl = <span class="keyword">new</span> SAXParserImpl(<span class="keyword">this</span>, features);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SAXNotSupportedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SAXNotRecognizedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SAXException se) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ParserConfigurationException(se.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> saxParserImpl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="P-S-Simple-Factory-Pattern"><a href="#P-S-Simple-Factory-Pattern" class="headerlink" title="P.S. Simple Factory Pattern"></a>P.S. Simple Factory Pattern</h2><p>Someone argues that Simple Factory Pattern is not a design pattern, but a simple encapsulation of object creation. By wrapping the code of creating new objects in a new class, it decouples the creation and the use of an object.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Indie</span> <span class="keyword">implements</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rock</span> <span class="keyword">implements</span> <span class="title">Song</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Song <span class="title">createSong</span><span class="params">(<span class="keyword">int</span> type)</span> </span>&#123;</span><br><span class="line">        Song obj = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: obj = <span class="keyword">new</span> Indie(); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: obj = <span class="keyword">new</span> Rock(); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Song obj = SimpleFactory.createSong(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Pros:</p>
<ul>
<li>Hide the complex logic of creating objects</li>
<li>Changes to the logic of creating objects won’t require changes to the client code</li>
<li>Code can be reused if the object creation is required in many places</li>
</ul>
<h3 id="i-Factory-Method-Pattern-vs-Simple-Factory-Pattern"><a href="#i-Factory-Method-Pattern-vs-Simple-Factory-Pattern" class="headerlink" title="i. Factory Method Pattern vs. Simple Factory Pattern"></a>i. Factory Method Pattern vs. Simple Factory Pattern</h3><p>Simple factory is just an encapsulation of a piece of code so that it can be reused. It provides only one way of creating objects, and hence if you want to create objects in other ways, you have to modify the factory itself, but which is the strength of factory method pattern. But of course, it doesn’t mean you must use factory method pattern, it all depends on how you want the factory to be used.</p>
<h3 id="ii-An-example-java-util-Calendar-getInstance"><a href="#ii-An-example-java-util-Calendar-getInstance" class="headerlink" title="ii. An example: java.util.Calendar.getInstance()"></a>ii. An example: java.util.Calendar.getInstance()</h3><p>Some say that <em>Calendar.getInstance()</em> is an example of adopting factory method pattern, but in my opinion, the <em>Calendar</em> class just provides a simple built-in factory method, which is not the same as the factory method pattern. I would argue that it is more like a simple factory.<br>Let’s look at the code first.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Calendar</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">Calendar</span><span class="params">()</span> </span>&#123; <span class="comment">// ... &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createCalendar(TimeZone.getDefault(), Locale.getDefault(Locale.Category.FORMAT));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Calendar <span class="title">createCalendar</span><span class="params">(TimeZone zone, Locale aLocale)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        Calendar cal = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (aLocale.getLanguage() == <span class="string">"th"</span> &amp;&amp; aLocale.getCountry() == <span class="string">"TH"</span>) &#123;</span><br><span class="line">            cal = <span class="keyword">new</span> BuddhistCalendar(zone, aLocale); <span class="comment">// subclass of Calendar</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (aLocale.getVariant() == <span class="string">"JP"</span> &amp;&amp; aLocale.getLanguage() == <span class="string">"ja"</span> &amp; aLocale.getCountry() == <span class="string">"JP"</span>) &#123;</span><br><span class="line">            cal = <span class="keyword">new</span> JapaneseImperialCalendar(zone, aLocale); <span class="comment">// subclass of Calendar</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cal = <span class="keyword">new</span> GregorianCalendar(zone, aLocale); <span class="comment">// subclass of Calendar</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Calendar cal = Calendar.getInstance();</span><br><span class="line">System.out.println(cal.getTime());</span><br></pre></td></tr></table></figure>
<p><em>Calendar</em> is an abstract class, and it is extened by <em>BuddhistCalendar</em>, <em>JapaneseImperialCalendar</em> and <em>GregorianCalendar</em>. <em>Calendar</em> cannot be instantiated, but it provides the method <em>getInstance()</em> for creating objects which hides the complexity of choosing which class to instantiate. However, it does not use factory method pattern for the following reasons:</p>
<ol>
<li>It does not defer the object creation to its subclasses</li>
<li>It’s impossible for the client to create other types of calendar by extending the <em>Calendar</em> class</li>
</ol>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Factory method pattern provides a flexible way of object creation. It not only encapsulates the instantiation of objects, but lets the subclasses of the factory decides which class to instantiate, so that the client code can have its own factory implementation to create specific objects.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>1 <a href="https://en.wikipedia.org/wiki/Factory_method_pattern" target="_blank" rel="noopener">Wikipedia: Factory Method Pattern</a><br>2 <a href="http://coding-geek.com/design-pattern-factory-patterns/" target="_blank" rel="noopener">Factory Patterns</a><br>3 <a href="https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries" target="_blank" rel="noopener">Examples of Design Patterns in Java Core Libraries</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/factory-pattern/" rel="tag"># factory pattern</a>
          
            <a href="/tags/open-close-principle/" rel="tag"># open/close principle</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/Boyer-Moore/" rel="next" title="Boyer-Moore Majority Vote Algorithm">
                <i class="fa fa-chevron-left"></i> Boyer-Moore Majority Vote Algorithm
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/binary-tree/" rel="prev" title="Binary Tree">
                Binary Tree <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://raw.githubusercontent.com/heidyhe/img/master/avatar.jpg"
                alt="Heidy" />
            
              <p class="site-author-name" itemprop="name">Heidy</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">32</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/heidyhe" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:heidycat@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#A-simple-example"><span class="nav-text">A simple example</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#More-examples"><span class="nav-text">More examples</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#i-Java-API-commons-logging"><span class="nav-text">i. Java API: commons-logging</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ii-Java-API-javax-xml-parsers"><span class="nav-text">ii. Java API: javax.xml.parsers</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P-S-Simple-Factory-Pattern"><span class="nav-text">P.S. Simple Factory Pattern</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#i-Factory-Method-Pattern-vs-Simple-Factory-Pattern"><span class="nav-text">i. Factory Method Pattern vs. Simple Factory Pattern</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ii-An-example-java-util-Calendar-getInstance"><span class="nav-text">ii. An example: java.util.Calendar.getInstance()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary"><span class="nav-text">Summary</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-text">References</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Heidy</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io" rel="external nofollow">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
